<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tamil Flashcards</title>
  <style>
    body{font-family:Arial,sans-serif;background:#f5f7fa;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}
    .app{background:#fff;padding:20px;border-radius:12px;width:380px;box-shadow:0 10px 25px rgba(0,0,0,.1);text-align:center}
    h1{font-size:20px;margin-bottom:10px}
    .home-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .home-grid button{padding:14px;border:none;border-radius:12px;color:#fff;font-size:16px;cursor:pointer}
    .animals{background:#4f46e5}.birds{background:#0284c7}.fruits{background:#16a34a}.verbs{background:#ca8a04}.household{background:#0f766e}.grocery{background:#7c3aed}

    .card-container{perspective:1000px;margin:20px 0}
    .card{width:100%;height:160px;background:#4f46e5;color:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:28px;cursor:pointer;transition:transform .6s;transform-style:preserve-3d;position:relative}
    .card.flipped{transform:rotateY(180deg)}
    .side{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center;padding:10px}
    .back{background:#16a34a;transform:rotateY(180deg);font-size:22px}
    .controls{display:flex;justify-content:space-between;margin-top:15px}
    button.nav{padding:8px 14px;border:none;border-radius:8px;background:#4f46e5;color:#fff;cursor:pointer}
    .counter{margin-top:10px;font-size:14px;color:#555}
    #speak{margin-bottom:10px;padding:6px 12px;border:none;border-radius:6px;background:#9ca3af;color:#fff;cursor:not-allowed}
  </style>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4f46e5">
</head>
<body>
<div class="app">

  <!-- HOME -->
  <div id="home">
    <h1>ğŸ“˜ Tamil Flashcards</h1>
    <p style="color:#555;font-size:14px;margin-bottom:18px">Choose a category</p>
    <div class="home-grid">
      <button class="animals" onclick="startCards('animals')">ğŸ¾ Animals</button>
      <button class="birds" onclick="startCards('birds')">ğŸ¦ Birds</button>
      <button class="fruits" onclick="startCards('fruits')">ğŸ Fruits</button>
      <button class="verbs" onclick="startCards('verbs')">ğŸƒ Verbs</button>
      <button class="household" onclick="startCards('household')">ğŸ  Household</button>
      <button class="grocery" onclick="startCards('grocery')">ğŸ›’ Grocery</button>
    </div>
  </div>

  <!-- FLASHCARDS -->
  <div id="cards" style="display:none">
    <h1 id="cardTitle"></h1>
    <button id="speak">ğŸ”Š Loading audioâ€¦</button>
    <div class="card-container">
      <div class="card" id="card">
        <div class="side front" id="front"></div>
        <div class="side back" id="back"></div>
      </div>
    </div>
    <div class="controls">
      <button class="nav" onclick="prevCard()">Previous</button>
      <button class="nav" onclick="nextCard()">Next</button>
    </div>
    <div class="counter" id="counter"></div>
    <br>
    <button class="nav" onclick="location.reload()">â¬… Back</button>
  </div>
</div>

<script>
/* ===== DATA ===== */
const data={
 animals:[['à®¨à®¾à®¯à¯','Dog'],['à®ªà¯‚à®©à¯ˆ','Cat'],['à®¯à®¾à®©à¯ˆ','Elephant'],['à®šà®¿à®™à¯à®•à®®à¯','Lion'],['à®ªà¯à®²à®¿','Tiger'],['à®®à®¾à®Ÿà¯','Cow'],['à®•à¯à®¤à®¿à®°à¯ˆ','Horse'],['à®†à®Ÿà¯','Goat'],['à®šà¯†à®®à¯à®®à®±à®¿à®¯à®¾à®Ÿà¯','Sheep'],['à®•à¯à®°à®™à¯à®•à¯','Monkey'],['à®•à®°à®Ÿà®¿','Bear'],['à®¨à®°à®¿','Fox'],['à®®à®¾à®©à¯','Deer'],['à®’à®Ÿà¯à®Ÿà®•à®®à¯','Camel'],['à®ªà®©à¯à®±à®¿','Pig'],['à®à®²à®¿','Mouse'],['à®®à¯à®¯à®²à¯','Rabbit'],['à®¨à¯€à®°à¯à®¯à®¾à®©à¯ˆ','Hippopotamus'],['à®®à¯à®¤à®²à¯ˆ','Crocodile'],['à®ªà®¾à®®à¯à®ªà¯','Snake']],
 birds:[['à®•à®¾à®•à®®à¯','Crow'],['à®•à®¿à®³à®¿','Parrot'],['à®®à®¯à®¿à®²à¯','Peacock'],['à®šà®¿à®Ÿà¯à®Ÿà¯à®•à¯à®•à¯à®°à¯à®µà®¿','Sparrow'],['à®†à®¨à¯à®¤à¯ˆ','Owl'],['à®ªà¯à®±à®¾','Pigeon'],['à®µà®¾à®¤à¯à®¤à¯','Duck'],['à®•à¯‹à®´à®¿','Hen'],['à®šà¯‡à®µà®²à¯','Rooster'],['à®•à¯à®¯à®¿à®²à¯','Cuckoo'],['à®ªà®°à¯à®¨à¯à®¤à¯','Eagle'],['à®•à®´à¯à®•à¯','Vulture'],['à®¨à®¾à®°à¯ˆ','Stork'],['à®®à¯€à®©à¯à®•à¯Šà®¤à¯à®¤à®¿','Kingfisher'],['à®…à®©à¯à®©à®®à¯','Swan'],['à®µà®¾à®©à¯à®•à¯‹à®´à®¿','Turkey'],['à®ªà¯†à®©à¯à®•à¯à®¯à®¿à®©à¯','Penguin'],['à®¤à¯à®®à¯à®ªà®¿','Bulbul'],['à®®à¯ˆà®©à®¾','Myna'],['à®¨à®¾à®°à¯ˆà®®à¯‚à®•à¯à®•à¯','Crane']],
 fruits:[['à®†à®ªà¯à®ªà®¿à®³à¯','Apple'],['à®µà®¾à®´à¯ˆà®ªà¯à®ªà®´à®®à¯','Banana'],['à®®à®¾à®®à¯à®ªà®´à®®à¯','Mango'],['à®¤à®¿à®°à®¾à®Ÿà¯à®šà¯ˆ','Grapes'],['à®†à®°à®à¯à®šà¯','Orange'],['à®à®²à¯à®®à®¿à®šà¯à®šà¯ˆ','Lemon'],['à®ªà®ªà¯à®ªà®¾à®³à®¿','Papaya'],['à®•à¯Šà®¯à¯à®¯à®¾','Guava'],['à®®à®¾à®¤à¯à®³à¯ˆ','Pomegranate'],['à®…à®©à¯à®©à®¾à®šà®¿','Pineapple'],['à®¸à¯à®Ÿà¯à®°à®¾à®ªà¯†à®°à®¿','Strawberry'],['à®ªà¯‡à®°à®¿à®•à¯à®•à®¾à®¯à¯','Pear'],['à®šà®ªà¯à®ªà¯‹à®Ÿà¯à®Ÿà®¾','Sapota'],['à®¨à®¾à®µà®±à¯à®ªà®´à®®à¯','Jamun'],['à®†à®®à®£à®•à¯à®•à¯','Fig'],['à®ªà®¿à®³à®®à¯','Plum'],['à®šà¯†à®°à¯à®°à®¿','Cherry'],['à®ªà¯€à®šà¯','Peach'],['à®ªà¯‡à®°à®¿à®šà¯à®šà¯ˆ','Date'],['à®•à®¿à®µà®¿','Kiwi']],
 verbs:[['à®ªà®Ÿà®¿','Read'],['à®à®´à¯à®¤à¯','Write'],['à®“à®Ÿà¯','Run'],['à®¨à®Ÿ','Walk'],['à®šà®¾à®ªà¯à®ªà®¿à®Ÿà¯','Eat'],['à®•à¯à®Ÿà®¿','Drink'],['à®ªà¯‡à®šà¯','Speak'],['à®•à¯‡à®³à¯','Listen'],['à®ªà®¾à®°à¯','See'],['à®à®Ÿà¯','Take'],['à®•à¯Šà®Ÿà¯','Give'],['à®µà®¾','Come'],['à®ªà¯‹','Go'],['à®‰à®Ÿà¯à®•à®¾à®°à¯','Sit'],['à®¨à®¿à®²à¯','Stand'],['à®¤à¯‚à®™à¯à®•à¯','Sleep'],['à®à®´à¯','Wake'],['à®µà®¿à®³à¯ˆà®¯à®¾à®Ÿà¯','Play'],['à®µà¯‡à®²à¯ˆà®šà¯†à®¯à¯','Work'],['à®šà®¿à®¨à¯à®¤à®¿','Think']],
 household:[['à®®à¯‡à®œà¯ˆ','Table'],['à®¨à®¾à®±à¯à®•à®¾à®²à®¿','Chair'],['à®•à®Ÿà¯à®Ÿà®¿à®²à¯','Bed'],['à®…à®²à®®à®¾à®°à®¿','Cupboard'],['à®•à®¤à®µà¯','Door'],['à®œà®©à¯à®©à®²à¯','Window'],['à®µà®¿à®³à®•à¯à®•à¯','Lamp'],['à®®à®¿à®©à¯à®µà®¿à®šà®¿à®±à®¿','Fan'],['à®Ÿà®¿à®µà®¿','Television'],['à®ƒà®ªà¯à®°à®¿à®Ÿà¯à®œà¯','Refrigerator'],['à®…à®Ÿà¯à®ªà¯à®ªà¯','Stove'],['à®ªà®¾à®¤à¯à®¤à®¿à®°à®®à¯','Vessel'],['à®•à®°à®£à¯à®Ÿà®¿','Spoon'],['à®¤à®Ÿà¯à®Ÿà¯','Plate'],['à®•à®¿à®£à¯à®£à®®à¯','Bowl'],['à®¤à¯à®Ÿà¯ˆà®ªà¯à®ªà®®à¯','Broom'],['à®•à®Ÿà®¿à®•à®¾à®°à®®à¯','Clock'],['à®¤à®²à¯ˆà®¯à®£à¯ˆ','Pillow'],['à®ªà¯‹à®°à¯à®µà¯ˆ','Blanket'],['à®¤à¯Šà®²à¯ˆà®ªà¯‡à®šà®¿','Telephone']],
 grocery:[['à®…à®°à®¿à®šà®¿','Rice'],['à®•à¯‹à®¤à¯à®®à¯ˆ','Wheat'],['à®šà®°à¯à®•à¯à®•à®°à¯ˆ','Sugar'],['à®‰à®ªà¯à®ªà¯','Salt'],['à®à®£à¯à®£à¯†à®¯à¯','Oil'],['à®ªà®¾à®²à¯','Milk'],['à®¤à®¯à®¿à®°à¯','Curd'],['à®µà¯†à®£à¯à®£à¯†à®¯à¯','Butter'],['à®®à¯à®Ÿà¯à®Ÿà¯ˆ','Egg'],['à®ªà®°à¯à®ªà¯à®ªà¯','Lentils'],['à®•à®Ÿà®²à¯ˆ','Peanut'],['à®ªà®¾à®šà®¿à®ªà¯à®ªà®¯à®±à¯','Green gram'],['à®‰à®°à¯à®³à¯ˆà®•à¯à®•à®¿à®´à®™à¯à®•à¯','Potato'],['à®µà¯†à®™à¯à®•à®¾à®¯à®®à¯','Onion'],['à®¤à®•à¯à®•à®¾à®³à®¿','Tomato'],['à®®à®¿à®³à®•à®¾à®¯à¯','Chilli'],['à®®à®à¯à®šà®³à¯','Turmeric'],['à®®à®¿à®³à®•à¯','Pepper'],['à®šà¯€à®°à®•à®®à¯','Cumin'],['à®•à¯Šà®¤à¯à®¤à®®à®²à¯à®²à®¿','Coriander']]
};

let cards=[],idx=0;
const home=document.getElementById('home');
const cardsView=document.getElementById('cards');
const front=document.getElementById('front');
const back=document.getElementById('back');
const counter=document.getElementById('counter');
const card=document.getElementById('card');
const speakBtn=document.getElementById('speak');
const title=document.getElementById('cardTitle');

function startCards(type){
 if(!data[type]){console.error('Unknown category',type);return;}
 cards=data[type]; idx=0;
 home.style.display='none'; cardsView.style.display='block';
 title.textContent=type.charAt(0).toUpperCase()+type.slice(1);
 updateCard();
}

function updateCard(){
 card.classList.remove('flipped');
 front.textContent=cards[idx][0];
 back.textContent=cards[idx][1];
 counter.textContent=`Card ${idx+1} of ${cards.length}`;
}

card.onclick=()=>card.classList.toggle('flipped');
function nextCard(){ if(idx<cards.length-1){idx++;updateCard();} }
function prevCard(){ if(idx>0){idx--;updateCard();} }

/* AUDIO */
let tamilVoice=null;
function loadVoices(){const v=speechSynthesis.getVoices(); tamilVoice=v.find(x=>x.lang==='ta-IN')||v.find(x=>x.lang&&x.lang.startsWith('ta'));
 if(v.length){speakBtn.textContent='ğŸ”Š Listen';speakBtn.disabled=false;speakBtn.style.background='#22c55e';speakBtn.style.cursor='pointer';}}
speechSynthesis.onvoiceschanged=loadVoices; loadVoices();

speakBtn.onclick=()=>{speechSynthesis.cancel(); const u=new SpeechSynthesisUtterance(front.textContent);
 u.lang='ta-IN'; u.rate=0.75; if(tamilVoice)u.voice=tamilVoice; speechSynthesis.speak(u);};

// PWA: Register Service Worker
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('service-worker.js');
  });
}
</script>
</body>
</html>
